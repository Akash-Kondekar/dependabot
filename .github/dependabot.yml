version: 2
updates:
    # Minor updates → branch main-minor
    - package-ecosystem: "npm"
      directory: "/"
      target-branch: "main-minor"
      schedule:
          interval: "monthly"
      allow:
          - dependency-name: "*"
            update-types:
                - "version-update:semver-minor"
      open-pull-requests-limit: 10

    # Major updates → branch main-major
    - package-ecosystem: "npm"
      directory: "/"
      target-branch: "main-major"
      schedule:
          interval: "monthly"
      allow:
          - dependency-name: "*"
            update-types:
                - "version-update:semver-major"
      open-pull-requests-limit: 10

    # Security updates → branch main (Dependabot security updates run against the repository default branch)
    - package-ecosystem: "npm"
      directory: "/"
      target-branch: "main" # note: security updates are raised against the default branch regardless; this is fine if default is main
      schedule:
          interval: "daily"
      open-pull-requests-limit: 10
      # to only run security updates, use groups/applies-to or rely on repo settings to enable Dependabot security updates;
      # Dependabot will open security PRs automatically when security alerts are found
